<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>
<body>
<input type="button" value='Append Widget' id="appendwidget"/>
<div id="widgetcontainer" style="width:400px; height: 600px; overflow: auto;">

</div>
<div id="errorContainer"></div>
<script>
    $(function(){
        $('#appendwidget').click(function (){
            $.ajax({
                cache: false,
                type: "GET",
                headers: {
                    'header-token':'w3b3n401nt'
                },
                contentType: "application/json; charset=utf-8",
                url: "http://localhost:8080/app/login?single-token=97cfc311492b06461cd103f788e3940a",
                success: function (result) {
                    $('#widgetcontainer').append('<div>AHHH</div><br>');
                    console.log(result.body.token);
                },
                error: function () {
                    console.log('error');
                }
            })
            .done(function() {
            });

            console.log('append');
        });
    });

</script>
</body>
</html>